# ファイルアプリアクセス対応（無料アカウント対応）

## 概要
Memoraアプリは**Documentsディレクトリ**にデータを保存し、iPhoneの「ファイル」アプリからアクセス可能です。
- **無料のApple Developer アカウントで利用可能**
- **追加のcapability設定や権限不要**
- **ファイルアプリから直接アクセス・管理が可能**

## データ保存場所
```
Documents/Memora/
├── cards.json      # 学習カードデータ
├── settings.json   # アプリ設定
└── reviewLogs.json # 学習ログ
```

## ファイルアプリでのアクセス方法

### 📱 iPhone/iPadでの確認手順
1. **「ファイル」アプリを開く**
2. **下部の「ブラウズ」をタップ**
3. **「このiPhone内」をタップ**
4. **「memora」フォルダを探す**
5. **「Memora」フォルダ内にJSONファイルが表示されます**

## 利点・機能

### ✅ 利点
- **無料アカウント対応**: Apple Developer Program不要
- **設定不要**: 追加のcapabilityや権限設定なし
- **直接アクセス**: ファイルアプリから直接ファイル操作
- **データ管理**: バックアップ・復元・共有が簡単
- **互換性**: 標準的なJSONフォーマットで保存

### 📂 データ管理機能
- **手動バックアップ**: ファイルを他の場所にコピー
- **データ共有**: AirDrop、メール、クラウドサービスで送信
- **復元**: バックアップファイルをMemoraフォルダに戻す
- **編集**: 他のアプリでJSONファイルを直接編集可能

## 制限事項

### ❌ 制限
- **デバイス間同期なし**: 単一デバイスでのデータ保存のみ
- **アプリ削除時にデータ削除**: アプリ削除と共にデータも削除
- **自動バックアップなし**: 手動でのバックアップが必要

## データのバックアップ・復元

### 📤 バックアップ手順
1. ファイルアプリで「Memora」フォルダを開く
2. 必要なJSONファイル（または全ファイル）を選択
3. 「共有」アイコンをタップ
4. 保存先を選択：
   - **メール**: 自分宛にファイル添付で送信
   - **AirDrop**: 他のデバイスに直接転送
   - **クラウド**: iCloud Drive、Google Drive、Dropboxなど
   - **メモアプリ**: ファイルを添付して保存

### 📥 復元手順
1. バックアップしたJSONファイルを取得
2. ファイルアプリの「このiPhone内」→「memora」→「Memora」フォルダを開く
3. バックアップファイルをフォルダにコピー
4. Memoraアプリを再起動

## 実装詳細

### 技術仕様
- **保存先**: `FileManager.documentDirectory`
- **フォルダ作成**: 自動で`Memora`サブフォルダを作成
- **エラー処理**: ファイル作成失敗時のフォールバック対応
- **フォーマット**: 標準JSONエンコーディング

### セキュリティ
- **アプリサンドボックス**: iOSのサンドボックス内でのみアクセス可能
- **ユーザー制御**: ファイルアプリを通じてユーザーが完全制御
- **プライバシー**: データはデバイス内でのみ保存

この方式により、無料アカウントでも十分実用的なデータ管理機能を提供します！